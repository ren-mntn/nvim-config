# バグ・問題点報告

このファイルでは、Neovim 設定で発生したバグや問題点を管理しています。
修正済みのものは `[x]` でマークされます。

## 🚨 緊急度: 高

## 🟡 緊急度: 中

### プラグイン関連

- [ ] **[#BUG-012] LazyGit が ToggleTerm 内で一瞬開いてすぐ閉じる**
  - **現象**: `<leader>tg` で LazyGit を開こうとすると、ウィンドウが一瞬表示されてすぐに閉じてしまう
  - **影響**:
    - Git操作のワークフローが中断される
    - LazyGit の主要機能が使用できない
    - ToggleTerm との統合が機能しない
  - **想定原因**:
    - LazyGit が `/dev/tty` デバイスにアクセスできない (`device not configured` エラー)
    - ToggleTerm のターミナル環境設定の問題
    - 環境変数 `TERM` の設定不足
  - **エラーメッセージ**: `*fs.PathError open /dev/tty: device not configured`
  - **再現手順**:
    1. Neovim を起動
    2. `<leader>tg` を押してLazyGitを起動
    3. LazyGit ウィンドウが一瞬開いてすぐ閉じる
  - **調査ポイント**:
    - ToggleTerm の環境変数設定
    - LazyGit の pty/tty 要求設定
    - 代替的な LazyGit 起動方法の検討

### UI・表示関連

- [x] **[#BUG-007] Neo-tree の Git タブで大量ファイルが開かれる問題**
  - **現象**: Neo-tree で Git タブに切り替えて差分ファイルを選択すると、数十個の差分ファイルが一度に開かれる
  - **影響**:
    - バッファが大量に開かれてメモリ消費が増加
    - 意図しない大量のタブが開かれて操作性が悪化
    - システムの応答性低下
  - **想定原因**:
    - Neo-tree の Git 統合での一括ファイル選択動作
    - `git diff` の結果を全て個別ファイルとして開く設定
    - キーバインドの誤動作または意図しない一括選択
  - **再現手順**:
    1. Neo-tree を開く（`<Leader>e`）
    2. Git タブに切り替え
    3. 変更されたファイルを選択
    4. 予期しない大量のファイルが開かれる
  - **調査ポイント**:
    - Neo-tree の Git 関連設定確認
    - ファイル選択時のキーバインド確認
    - `git diff` 実行時の動作設定

## 🟢 緊急度: 低

### キーバインド関連

- [ ] **[#BUG-008] iTerm2 キー送信の競合**
  - **現象**: F15、F16 キーが他のアプリケーションと競合する可能性
  - **影響**: キーバインドが期待通りに動作しない場合がある
  - **想定原因**: システム全体のキーバインド設定との競合

### パフォーマンス関連

- [x] **[#BUG-011] `<leader>ff` (find files) の起動時間が遅い**
  - **現象**: `<leader>ff` を押してからファイル検索が開くまでに時間がかかる
  - **影響**: ワークフロー効率の低下、検索操作の体感速度悪化
  - **想定原因**:
    - Telescope プラグインの初期化遅延
    - ファイルインデックス作成の負荷
    - ripgrep/fd 等の検索ツールの設定問題
    - プラグインの遅延読み込み設定の問題

### その他

## 🔧 修正方法のメモ

### LSP 問題の調査手順

```vim
" LSPの状態確認
:LspInfo

" Masonでインストール済みサーバー確認
:Mason

" 現在のファイルタイプ確認
:set filetype?

" LSPクライアントの手動起動テスト
:LspStart
```

### よくある解決方法

1. **プラグイン再インストール**: `:Lazy clean` → `:Lazy install`
2. **LSP サーバー再インストール**: `:MasonUninstall <server>` → `:MasonInstall <server>`
3. **設定ファイル再読み込み**: `:source $MYVIMRC`

---

## ✅ 修正済みの問題

修正完了した問題はここに移動します：

- [x] **初期設定完了**
  - [x] 基本設定のセットアップ
  - [x] 日本語環境の設定
  - [x] プラグイン基盤の構築
