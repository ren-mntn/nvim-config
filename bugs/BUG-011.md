# BUG-011: `<leader>ff` (find files) の起動時間が遅い

## 問題概要
`<leader>ff` コマンドを実行してからファイル検索ウィンドウが開くまでの時間が遅く、ワークフロー効率に影響している。

## 現象
- `<leader>ff` を押してから数秒間の遅延が発生
- Telescopeウィンドウの表示が遅い
- 初回実行時により顕著な遅延

## 影響度
**緊急度: 中** - 頻繁に使用される機能のため、生産性に直接影響

## 調査記録

### 調査 #1 (2025-08-07)

#### 現在の状況
- [x] `<leader>ff` のキーバインド設定確認
- [ ] Telescopeプラグインの設定確認  
- [ ] 遅延読み込み設定の確認
- [ ] ファイルシステムのインデックス作成負荷測定

#### 発見事項
- `<leader>ff` は LazyVimのデフォルトのTelescope find_files機能
- lua/config/keymaps.lua には定義されていない（LazyVimのデフォルト）
- telescope-disable.lua でfile_browserを無効化している
- 複数のプラグインでtelescope.builtin.find_files()を呼び出し

#### 試した修正方法
1. キーバインド定義箇所の特定 → LazyVimデフォルトと確認
2. telescope-optimization.luaでパフォーマンス最適化設定を作成 → 実装完了

---

## 修正履歴

### 2025-08-07 - Telescope最適化設定を追加
- `lua/plugins/telescope-optimization.lua` を作成
- telescope-fzf-native.nvim 拡張を追加（ネイティブソーター使用）
- find_files専用設定で高速化
  - fdコマンドを使用したファイル検索
  - 結果制限 (1000件)
  - ファイル除外パターン追加
- レイアウト最適化とプレビュー制限
- キーマップの明示的定義で遅延読み込み制御

---

## 依存関係・関連Issue

- 関連プラグイン: telescope.nvim
- 設定ファイル: lua/plugins/telescope.lua (推定)
- 関連ツール: ripgrep, fd
- 関連Issue: なし

---

## 完了条件

- [ ] `<leader>ff` の起動時間が1秒以内に改善される
- [ ] 初回実行時も遅延なく動作する
- [ ] 他のTelescope機能に悪影響がない

## 次のアクション

1. ~~`<leader>ff` のキーバインド定義箇所を特定する~~ ✅完了
2. ~~Telescopeの設定ファイルを確認する~~ ✅完了
3. ~~パフォーマンス最適化設定を実装~~ ✅完了
4. 設定変更後の動作テスト
5. 必要に応じてさらなる調整